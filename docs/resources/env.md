---
subcategory: "core/v1"
page_title: "Kubernetes: kubernetes_env"
description: |-
  This resource provides a way to manage environment variables in resources that were created outside of Terraform.
---

# kubernetes_env

This resource provides a way to manage environment variables in resources that were created outside of Terraform. This resource provides functionality similar to the `kubectl set env` command.

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `api_version` (String) Resource API version
- `env` (Block List, Min: 1) List of custom values used to represent environment variables (see [below for nested schema](#nestedblock--env))
- `kind` (String) Resource Kind
- `metadata` (Block List, Min: 1, Max: 1) (see [below for nested schema](#nestedblock--metadata))

### Optional

- `container` (String) Name of the container for which we are updating the environment variables.
- `field_manager` (String) Set the name of the field manager for the specified environment variables.
- `force` (Boolean) Force overwriting environments that were created or edited outside of Terraform.
- `init_container` (String) Name of the initContainer for which we are updating the environment variables.

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--env"></a>
### Nested Schema for `env`

Required:

- `name` (String) Name of the environment variable. Must be a C_IDENTIFIER

Optional:

- `value` (String) Variable references $(VAR_NAME) are expanded using the previous defined environment variables in the container and any service environment variables. If a variable cannot be resolved, the reference in the input string will be unchanged. The $(VAR_NAME) syntax can be escaped with a double $$, ie: $$(VAR_NAME). Escaped references will never be expanded, regardless of whether the variable exists or not. Defaults to "".
- `value_from` (Block List, Max: 1) Source for the environment variable's value (see [below for nested schema](#nestedblock--env--value_from))

<a id="nestedblock--env--value_from"></a>
### Nested Schema for `env.value_from`

Optional:

- `config_map_key_ref` (Block List, Max: 1) Selects a key of a ConfigMap. (see [below for nested schema](#nestedblock--env--value_from--config_map_key_ref))
- `field_ref` (Block List, Max: 1) Selects a field of the pod: supports metadata.name, metadata.namespace, metadata.labels, metadata.annotations, spec.nodeName, spec.serviceAccountName, status.podIP. (see [below for nested schema](#nestedblock--env--value_from--field_ref))
- `resource_field_ref` (Block List, Max: 1) Selects a resource of the container: only resources limits and requests (limits.cpu, limits.memory, limits.ephemeral-storage, requests.cpu, requests.memory and requests.ephemeral-storage) are currently supported. (see [below for nested schema](#nestedblock--env--value_from--resource_field_ref))
- `secret_key_ref` (Block List, Max: 1) Selects a key of a secret in the pod's namespace. (see [below for nested schema](#nestedblock--env--value_from--secret_key_ref))

<a id="nestedblock--env--value_from--config_map_key_ref"></a>
### Nested Schema for `env.value_from.config_map_key_ref`

Optional:

- `key` (String) The key to select.
- `name` (String) Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
- `optional` (Boolean) Specify whether the ConfigMap or its key must be defined.


<a id="nestedblock--env--value_from--field_ref"></a>
### Nested Schema for `env.value_from.field_ref`

Optional:

- `api_version` (String) Version of the schema the FieldPath is written in terms of, defaults to "v1".
- `field_path` (String) Path of the field to select in the specified API version


<a id="nestedblock--env--value_from--resource_field_ref"></a>
### Nested Schema for `env.value_from.resource_field_ref`

Required:

- `resource` (String) Resource to select

Optional:

- `container_name` (String)
- `divisor` (String)


<a id="nestedblock--env--value_from--secret_key_ref"></a>
### Nested Schema for `env.value_from.secret_key_ref`

Optional:

- `key` (String) The key of the secret to select from. Must be a valid secret key.
- `name` (String) Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
- `optional` (Boolean) Specify whether the Secret or its key must be defined.




<a id="nestedblock--metadata"></a>
### Nested Schema for `metadata`

Required:

- `name` (String) The name of the resource.

Optional:

- `namespace` (String) The namespace of the resource.




## Example Usage

```terraform
resource "kubernetes_env" "example" {
  container = "nginx"
  metadata {
    name = "nginx-deployment"
  }

  api_version = "apps/v1"
  kind        = "Deployment"

  env {
    name  = "NGINX_HOST"
    value = "google.com"
  }

  env {
    name  = "NGINX_PORT"
    value = "90"
  }
}
```

## Import

This resource does not support the `import` command. As this resource operates on Kubernetes resources that already exist, creating the resource is equivalent to importing it.
